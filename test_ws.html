<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Test</title>
</head>
<body>
    <h2>WebSocket Test</h2>

    <input id="msg" placeholder="Type message here" />
    <button onclick="sendMessage()">Send</button>

    <pre id="log"></pre>

    <script>
        const log = document.getElementById("log");

        const ws = new WebSocket("ws://127.0.0.1:8000/ws/session/test2");

        ws.onopen = () => {
            log.textContent += "Connected to server\n";
        };

        ws.onmessage = (event) => {
            log.textContent += "Server: " + event.data + "\n";
        };

        ws.onclose = () => {
            log.textContent += "Connection closed\n";
        };

        function sendMessage() {
            const msg = document.getElementById("msg").value;
            ws.send(msg);
            log.textContent += "You: " + msg + "\n";
        }
    </script>
</body>
</html>
